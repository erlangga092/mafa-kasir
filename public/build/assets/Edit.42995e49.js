import{r as m,R as e,H as p,d as f}from"./app.ec9fc65d.js";import{s as E}from"./sweetalert2.all.d8f8832b.js";import{I as h}from"./index.1ad3f73f.js";import{A as N}from"./index.7bb03da6.js";import{L as k}from"./index.24b3d922.js";const A=({role:r,permissions:s})=>{const[a,c]=m.exports.useState(()=>({name:r.name,permissions:r.permissions.map(t=>t.name)}));m.exports.useEffect(()=>{const t=window.document.querySelectorAll(".permission-input");for(const n of t)a.permissions.forEach(l=>{n.defaultValue==l&&(n.checked=!0)})},[]);const o=t=>{c({...a,permissions:[...a.permissions].indexOf(t.target.value)<0?[...a.permissions,t.target.value]:[...a.permissions.filter(n=>n!=t.target.value)]})},i=t=>{if(t.target.checked){const n=s.map(l=>l.name);c(()=>{const l=window.document.querySelectorAll(".permission-input");for(const u of l)u.checked=!0;return{...a,permissions:n}})}else c(()=>{const n=window.document.querySelectorAll(".permission-input");for(const l of n)l.checked=!1;return{...a,permissions:[]}})},d=t=>{t.preventDefault(),f.Inertia.post(`/apps/roles/${r.id}`,{_method:"PUT",name:a.name,permissions:a.permissions},{onSuccess:()=>{E.fire({title:"Success!",text:"Role updated successfully.",icon:"success",showConfirmButton:!1,timer:1e3})}})};return e.createElement(e.Fragment,null,e.createElement(p,null,e.createElement("title",null,"Edit Role - Aplikasi Kasir")),e.createElement(k,null,e.createElement("main",{className:"c-main"},e.createElement("div",{className:"container-fluid"},e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-12"},e.createElement("div",{className:"card border border-top-purple rounded-3 shadow"},e.createElement(N,{title:"EDIT ROLE",icon:"fa fa-shield-alt"}),e.createElement("div",{className:"card-body"},e.createElement("form",{onSubmit:d},e.createElement(h,{name:"name",type:"text",placeholder:"Role Name",label:"Role Name",value:a.name,onChange:t=>c({...a,name:t.target.value})}),e.createElement("div",{className:"mb-3"},e.createElement("label",{htmlFor:"",className:"fw-bold"},"Permissions"),e.createElement("br",null),e.createElement("div",{className:"form-check form-check-inline"},e.createElement("input",{className:"form-check-input",type:"checkbox",id:"check-all",onChange:t=>i(t)}),e.createElement("label",{htmlFor:"check-all",className:"form-check-label"},"all")),s==null?void 0:s.map((t,n)=>e.createElement("div",{className:"form-check form-check-inline",key:t.id},e.createElement("input",{className:"form-check-input permission-input",type:"checkbox",value:t.name,id:`check-${t.id}`,onChange:l=>o(l)}),e.createElement("label",{htmlFor:`check-${t.id}`,className:"form-check-label"},t.name)))),e.createElement("div",{className:"row"},e.createElement("div",{className:"col-12"},e.createElement("button",{className:"btn btn-primary shadow-sm rounded-sm"},"UPDATE"),e.createElement("button",{className:"btn btn-warning shadow-sm rounded-sm ms-3",type:"reset"},"RESET"))))))))))))};export{A as default};
