import{r as N,R as e,H as h,d as g}from"./app.7487f036.js";import{l as v}from"./index.62f1363b.js";import{A as _}from"./index.f3ff00ef.js";import{P as p}from"./index.75342d99.js";import{L as y}from"./index.591a8430.js";const i=t=>isNaN(parseInt(t))?"":new Intl.NumberFormat("id-ID",{maximumSignificantDigits:5,style:"currency",currency:"IDR"}).format(t),b=()=>{let t=new Date,a=t.getDate(),c=t.getMonth()+1,m=t.getFullYear();return c<10&&(c="0"+c),a<10&&(a="0"+a),m+"-"+c+"-"+a},k=({errors:t,profits:a,total:c})=>{var r,o,E;const[m,d]=N.exports.useState(!1),[l,s]=v.exports.useStateWithCallbackLazy({start_date:new URL(document.location).searchParams.get("start_date")||b(),end_date:new URL(document.location).searchParams.get("end_date")||b()}),u=n=>{n.preventDefault(),d(!0),g.Inertia.get("/apps/profits/filter",{start_date:l.start_date,end_date:l.end_date},{onSuccess:()=>{d(!1)}})};return e.createElement(e.Fragment,null,e.createElement(h,null,e.createElement("title",null,"Report Profits - Aplikasi Kasir")),e.createElement(y,null,e.createElement("main",{className:"c-main"},e.createElement("div",{className:"container-fluid"},e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-12"},e.createElement("div",{className:"card border-0 rounded-3 shadow border-top-purple"},e.createElement(_,{title:"REPORT PROFITS",icon:"fa fa-chart-line"}),e.createElement("div",{className:"card-body"},e.createElement("form",{onSubmit:u},e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-5"},e.createElement("div",{className:"mb-3"},e.createElement("label",{htmlFor:"",className:"form-label fw-bold"},"START DATE"),e.createElement("input",{type:"date",className:"form-control start_date",onChange:n=>s({...l,start_date:n.target.value}),value:l==null?void 0:l.start_date})),(t==null?void 0:t.start_date)&&e.createElement("div",{className:"alert alert-danger"},t==null?void 0:t.start_date)),e.createElement("div",{className:"col-md-5"},e.createElement("div",{className:"mb-3"},e.createElement("label",{htmlFor:"",className:"form-label fw-bold"},"END DATE"),e.createElement("input",{type:"date",className:"form-control end_date",onChange:n=>s({...l,end_date:n.target.value}),value:l==null?void 0:l.end_date})),(t==null?void 0:t.end_date)&&e.createElement("div",{className:"alert alert-danger"},t==null?void 0:t.end_date)),e.createElement("div",{className:"col-md-2"},e.createElement("div",{className:"mb-3"},e.createElement("label",{htmlFor:"",className:"form-label fw-bold text-white"},"*"),e.createElement("button",{className:"btn btn-md btn-purple border-0 shadow w-100"},e.createElement("i",{className:"fa fa-filter"})," FILTER"))))),m?e.createElement("div",{className:"loading"},"Loading..."):(r=a==null?void 0:a.data)!=null&&r.length?e.createElement(e.Fragment,null,e.createElement("div",{className:"export text-end mb-3"},e.createElement("a",{href:`/apps/sales/export?start_date=${l.start_date}&end_date=${l.end_date}`,target:"_blank",className:"btn btn-success btn-md border-0 shadow me-3"},e.createElement("i",{className:"fa fa-file-excel"})," EXCEL"),e.createElement("a",{href:"#",target:"_blank",className:"btn btn-secondary btn-md border-0 shadow"},e.createElement("i",{className:"fa fa-file-excel"})," PDF")),e.createElement("div",{className:"table-responsive"},e.createElement("table",{className:"table table-bordered"},e.createElement("thead",null,e.createElement("tr",{style:{backgroundColor:"#e6e6e7"}},e.createElement("th",{scope:"col"},"Date"),e.createElement("th",{scope:"col"},"Invoice"),e.createElement("th",{scope:"col"},"Total"))),e.createElement("tbody",null,(o=a==null?void 0:a.data)==null?void 0:o.map(n=>e.createElement("tr",{key:n.id},e.createElement("td",null,n.created_at),e.createElement("td",null,n.transaction.invoice),e.createElement("td",null,i(n.total)))),e.createElement("tr",null,e.createElement("td",{colSpan:2,className:"text-end fw-bold",style:{backgroundColor:"#e6e6e7"}},"TOTAL"),e.createElement("td",{className:"text-end fw-bold",style:{backgroundColor:"#e6e6e7"}},i(c))))))):e.createElement("div",{className:"table-responsive"},e.createElement("table",{className:"table table-bordered"},e.createElement("thead",null,e.createElement("tr",{style:{backgroundColor:"#e6e6e7"}},e.createElement("th",{scope:"col"},"Date"),e.createElement("th",{scope:"col"},"Invoice"),e.createElement("th",{scope:"col"},"Cashier"),e.createElement("th",{scope:"col"},"Customer"),e.createElement("th",{scope:"col"},"Total"))),e.createElement("tbody",null,e.createElement("tr",null,e.createElement("td",{colSpan:5,className:"text-center"},"No Data Found"))))),(E=a==null?void 0:a.data)!=null&&E.length?e.createElement(p,{links:a==null?void 0:a.links}):null))))))))};export{k as default};
