import{r as p,R as e,H as N,d as f}from"./app.ba9af926.js";import{l as h}from"./index.8f7043fc.js";import{A as g}from"./index.54b52c3c.js";import{P as _}from"./index.e163b21b.js";import{L as v}from"./index.cfa3e07b.js";const E=t=>isNaN(parseInt(t))?"":new Intl.NumberFormat("id-ID",{maximumSignificantDigits:5,style:"currency",currency:"IDR"}).format(t),u=()=>{let t=new Date,a=t.getDate(),c=t.getMonth()+1,m=t.getFullYear();return c<10&&(c="0"+c),a<10&&(a="0"+a),m+"-"+c+"-"+a},F=({errors:t,sales:a,total:c})=>{var o,s,i;const[m,r]=p.exports.useState(!1),[n,d]=h.exports.useStateWithCallbackLazy({start_date:new URL(document.location).searchParams.get("start_date")||u(),end_date:new URL(document.location).searchParams.get("end_date")||u()}),b=l=>{l.preventDefault(),r(!0),f.Inertia.get("/apps/sales/filter",{start_date:n.start_date,end_date:n.end_date},{onSuccess:()=>{r(!1)}})};return e.createElement(e.Fragment,null,e.createElement(N,null,e.createElement("title",null,"Report Sales - Aplikasi Kasir")),e.createElement(v,null,e.createElement("main",{className:"c-main"},e.createElement("div",{className:"container-fluid"},e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-12"},e.createElement("div",{className:"card border-0 rounded-3 shadow border-top-purple"},e.createElement(g,{title:"REPORT SALES",icon:"fa fa-chart-bar"}),e.createElement("div",{className:"card-body"},e.createElement("form",{onSubmit:b},e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-5"},e.createElement("div",{className:"mb-3"},e.createElement("label",{htmlFor:"",className:"form-label fw-bold"},"START DATE"),e.createElement("input",{type:"date",className:"form-control start_date",onChange:l=>d({...n,start_date:l.target.value}),value:n==null?void 0:n.start_date})),(t==null?void 0:t.start_date)&&e.createElement("div",{className:"alert alert-danger"},t==null?void 0:t.start_date)),e.createElement("div",{className:"col-md-5"},e.createElement("div",{className:"mb-3"},e.createElement("label",{htmlFor:"",className:"form-label fw-bold"},"END DATE"),e.createElement("input",{type:"date",className:"form-control end_date",onChange:l=>d({...n,end_date:l.target.value}),value:n==null?void 0:n.end_date})),(t==null?void 0:t.end_date)&&e.createElement("div",{className:"alert alert-danger"},t==null?void 0:t.end_date)),e.createElement("div",{className:"col-md-2"},e.createElement("div",{className:"mb-3"},e.createElement("label",{htmlFor:"",className:"form-label fw-bold text-white"},"*"),e.createElement("button",{className:"btn btn-md btn-purple border-0 shadow w-100"},e.createElement("i",{className:"fa fa-filter"})," FILTER"))))),m?e.createElement("div",{className:"loading"},"Loading..."):(o=a==null?void 0:a.data)!=null&&o.length?e.createElement(e.Fragment,null,e.createElement("div",{className:"export text-end mb-3"},e.createElement("a",{href:`/apps/sales/export?start_date=${n.start_date}&end_date=${n.end_date}`,target:"_blank",className:"btn btn-success btn-md border-0 shadow me-3"},e.createElement("i",{className:"fa fa-file-excel"})," EXCEL"),e.createElement("a",{href:"#",target:"_blank",className:"btn btn-secondary btn-md border-0 shadow"},e.createElement("i",{className:"fa fa-file-excel"})," PDF")),e.createElement("table",{className:"table table-bordered"},e.createElement("thead",null,e.createElement("tr",{style:{backgroundColor:"#e6e6e7"}},e.createElement("th",{scope:"col"},"Date"),e.createElement("th",{scope:"col"},"Invoice"),e.createElement("th",{scope:"col"},"Cashier"),e.createElement("th",{scope:"col"},"Customer"),e.createElement("th",{scope:"col"},"Total"))),e.createElement("tbody",null,(s=a==null?void 0:a.data)==null?void 0:s.map(l=>e.createElement("tr",{key:l.id},e.createElement("td",null,l.created_at),e.createElement("td",{className:"text-center"},l.invoice),e.createElement("td",null,l.cashier.name),e.createElement("td",null,l.customer?l.customer.name:"Umum"),e.createElement("td",{className:"text-end"},E(l.grand_total)))),e.createElement("tr",null,e.createElement("td",{colSpan:4,className:"text-end fw-bold",style:{backgroundColor:"#e6e6e7"}},"TOTAL"),e.createElement("td",{className:"text-end fw-bold",style:{backgroundColor:"#e6e6e7"}},E(c)))))):e.createElement("table",{className:"table table-bordered"},e.createElement("thead",null,e.createElement("tr",{style:{backgroundColor:"#e6e6e7"}},e.createElement("th",{scope:"col"},"Date"),e.createElement("th",{scope:"col"},"Invoice"),e.createElement("th",{scope:"col"},"Cashier"),e.createElement("th",{scope:"col"},"Customer"),e.createElement("th",{scope:"col"},"Total"))),e.createElement("tbody",null,e.createElement("tr",null,e.createElement("td",{colSpan:5,className:"text-center"},"No Data Found")))),(i=a==null?void 0:a.data)!=null&&i.length?e.createElement(_,{links:a==null?void 0:a.links}):null))))))))};export{F as default};
